{"ast":null,"code":"import axios from \"axios\";\nimport { ProductTypes } from \"./productReducer\";\nexport const getProductsAction = (dispatch, {\n  search\n}) => {\n  axios({\n    url: `https://dummyjson.com/prots${search ? `/search?q=${search}` : \"\"}`\n  }).then(result => {\n    console.log(\"----data\", result);\n    dispatch({\n      type: ProductTypes.GET_SUCCESS,\n      payload: result.data.products\n    });\n  }).catch(error => {\n    console.error(\"An error occurred:\", error);\n    dispatch({\n      type: ProductTypes.GET_ERROR,\n      payload: \"An error occurred while fetching data.\" // You can set a specific error message\n    });\n  });\n};","map":{"version":3,"names":["axios","ProductTypes","getProductsAction","dispatch","search","url","then","result","console","log","type","GET_SUCCESS","payload","data","products","catch","error","GET_ERROR"],"sources":["/Users/manana/Documents/react-search-task/src/context/productAction.tsx"],"sourcesContent":["import React from \"react\";\nimport axios from \"axios\";\nimport { ProductTypes, ProductActions } from \"./productReducer\";\nimport { IProduct } from \"./product\";\n\nexport const getProductsAction = (\n  dispatch: React.Dispatch<ProductActions>,\n  { search }: { search?: string }\n) => {\n  axios({\n    url: `https://dummyjson.com/prots${search ? `/search?q=${search}` : \"\"}`,\n  })\n    .then(\n      (result: {\n        data: {\n          limit: number;\n          products: IProduct[];\n          skip: number;\n          total: number;\n        };\n      }) => {\n        console.log(\"----data\", result);\n        dispatch({\n          type: ProductTypes.GET_SUCCESS,\n          payload: result.data.products,\n        });\n      }\n    )\n    .catch((error) => {\n      console.error(\"An error occurred:\", error);\n      dispatch({\n        type: ProductTypes.GET_ERROR,\n        payload: \"An error occurred while fetching data.\", // You can set a specific error message\n      });\n    });\n};\n"],"mappings":"AACA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,YAAY,QAAwB,kBAAkB;AAG/D,OAAO,MAAMC,iBAAiB,GAAGA,CAC/BC,QAAwC,EACxC;EAAEC;AAA4B,CAAC,KAC5B;EACHJ,KAAK,CAAC;IACJK,GAAG,EAAG,8BAA6BD,MAAM,GAAI,aAAYA,MAAO,EAAC,GAAG,EAAG;EACzE,CAAC,CAAC,CACCE,IAAI,CACFC,MAOA,IAAK;IACJC,OAAO,CAACC,GAAG,CAAC,UAAU,EAAEF,MAAM,CAAC;IAC/BJ,QAAQ,CAAC;MACPO,IAAI,EAAET,YAAY,CAACU,WAAW;MAC9BC,OAAO,EAAEL,MAAM,CAACM,IAAI,CAACC;IACvB,CAAC,CAAC;EACJ,CACF,CAAC,CACAC,KAAK,CAAEC,KAAK,IAAK;IAChBR,OAAO,CAACQ,KAAK,CAAC,oBAAoB,EAAEA,KAAK,CAAC;IAC1Cb,QAAQ,CAAC;MACPO,IAAI,EAAET,YAAY,CAACgB,SAAS;MAC5BL,OAAO,EAAE,wCAAwC,CAAE;IACrD,CAAC,CAAC;EACJ,CAAC,CAAC;AACN,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}